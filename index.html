<!DOCTYPE html>
<html>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<head>
	<title>my portfolio</title>
</head>
<style>
	table, th, td {
		table-layout: fixed;
  		border: 0px solid black;
	}
	table {
	  width: 100%;
	}

	th {
	  height: 70px;
	}
</style>
<script type="text/javascript">
	//fetch goldrate
	fetch("https://myportfolioservices.herokuapp.com/getgoldrate")
	.then(res => res.json())
	.then(data => { 
		if(data.success) {
			let node = document.getElementById("goldtable");
			node.innerHTML = "<table><tr><td>date:</td><td>"+ 
				data.date +"</td></tr>"+
				"<td>Today's rate</td><td>"+ data.gram_rate+"</td></tr>"+
				"<tr><td>Previous rate</td><td>"+ data.prev_gram_rate+"</td></tr>"+
				"<tr><td>difference</td><td>"+ data.difference+"</td></tr>"+
				"</table>";
		}
	})
	.catch(error => console.log(error));

	//fetch exchange rate
	fetch("https://myportfolioservices.herokuapp.com/getexchrate")
	.then(res => res.json())
	.then(data => {
		if(data.success) {
			let node = document.getElementById("cadtoday");
			node.innerHTML = "<table><tr><td>date:</td><td>"+
				data.date + "</td></tr>"+
				"<td>cad to usd</td><td>"+ data.cad_to_usd+"</td></tr>"+
				"<tr><td>cad to inr</td><td>"+ data.cad_to_inr+"</td></tr>"+
				"</table>";
		}
	})
	.catch(error => console.log(error));

	//fetch mfs rate
	fetch("https://myportfolioservices.herokuapp.com/getMFchanges")
	.then(res => res.json())
	.then(data => {
		if(data.success) {
			let node = document.getElementById("mftoday");
			let key = Object.keys(data.mf_portfolio)[0]
			node.innerHTML = "<table><tr><td>date:</td><td>"+
				key + "</td></tr>"+
				"<td>axis midcap</td><td>"+ data.mf_portfolio[key].axis_midcap+"</td></tr>"+
				"<tr><td>axis smallcap</td><td>"+ data.mf_portfolio[key].axis_smallcap+"</td></tr>"+
				"<tr><td>sbi_gold_fund</td><td>"+ data.mf_portfolio[key].sbi_gold_fund+"</td></tr>"+
				"<tr><td>quant tax</td><td>"+ data.mf_portfolio[key].quant_tax+"</td></tr>"+
				"<tr><td>nippon liquid</td><td>"+ data.mf_portfolio[key].nippon_liquid_fund+"</td></tr>"+
				"<tr><td>mo_nasdaq_fof</td><td>"+ data.mf_portfolio[key].mo_nasdaq_fof+"</td></tr>"+
				"</table>";
		}
	})
	.catch(error => console.log(error));

	//fetch bitcoin rate
	fetch("https://myportfolioservices.herokuapp.com/getbtrate")
	.then(res => res.json())
	.then(data => {
		let node = document.getElementById("bttoday");
		node.innerHTML = "<table><tr><td>fifteen_min:</td><td>"+
			data.bitcoin.fifteen_min + "</td></tr>"+
			"<td>last</td><td>"+ data.bitcoin.last+"</td></tr>"+
			"</table>";
	})
	.catch(error => console.log(error));

</script>
<body>
	<h4>Gold rate: </h4>
	<div style="overflow-x:auto;" id="goldtable"></div>
	<hr>
	<h4>CAD currency:</h4>
	<div style="overflow-x:auto;" id="cadtoday"></div>
	<hr>
	<h4>MFs:</h4>
	<div style="overflow-x:auto;" id="mftoday"></div>
	<hr>
	<h4>Bitcoin:</h4>
	<div style="overflow-x:auto;" id="bttoday"></div>
	<hr>
</body>
</html>
